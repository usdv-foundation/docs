# Problem Statement

Current Blockchain (CeFi/DeFi) applications often rely on fungible tokens (e.g., stablecoins) to provide an easy-to-use, reliable, and trustworthy payment mechanism. However, the current fungible token model has one key deficiency in that there exists no onchain algorithm to track the token demand generated by applications; this in turn makes it impossible for the stable coin issuer to fairly reward entities for generating demands. We call it the **Fungible Token Coloring Problem**.

## **Technical Constraints**

Two constraints prevent any naive (lossless) solution to the Fungible Token Coloring Problem: local storage and crosschain communication. Even within a single blockchain, it is not practical to maintain the per-minter attribution for every wallet balance, as a system of N minters would result in O(N) storage complexity per wallet. Any practical solution to the token coloring problem must therefore be lossy; our solution is to require all transfers to recolor tokens such that the receiver wallet balance and sent tokens are of the same single color, thus limiting the number of unique colors stored per-wallet and solving the single-chain token coloring problem in O(1) storage complexity. However, expanding this beyond a single chain context introduces additional economic and safety constraints in the form of crosschain messaging and the resulting asynchrony.



**Illustration**

Without a solution to the omnichain fungible token coloring problem, it is impossible to fairly share yield between minters as we show in the example below. Alice and Bob mint 10 tokens and 30 tokens respectively, resulting in a proportional share of 25% for Alice and 75% for Bob. Bob then sells of 20 of his 30 tokens to Carol, who in turn redeems those 20 tokens–at this point, it is impossible to decide which minter to deduct attribution from, as the tokens are mixed with Carol’s existing holdings.



<figure><img src="../.gitbook/assets/image.png" alt="" width="563"><figcaption><p>It is impossible to attribute fairly without a coloring algorithm</p></figcaption></figure>

